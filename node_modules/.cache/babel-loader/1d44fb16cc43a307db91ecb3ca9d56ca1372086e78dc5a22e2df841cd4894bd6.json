{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AlexanDoor\\\\WebstormProjects\\\\shittest\\\\my-app\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from \"react\";\nimport { Editor, EditorState, RichUtils, AtomicBlockUtils } from \"draft-js\";\nimport \"draft-js/dist/Draft.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [editorState, setEditorState] = useState(() => EditorState.createEmpty());\n  const editorRef = useRef(null);\n  const handleEditorChange = newEditorState => {\n    setEditorState(newEditorState);\n  };\n  const handleBoldClick = () => {\n    var _editorRef$current;\n    setEditorState(RichUtils.toggleInlineStyle(editorState, \"BOLD\"));\n    (_editorRef$current = editorRef.current) === null || _editorRef$current === void 0 ? void 0 : _editorRef$current.focus();\n  };\n  const handleUnderlineClick = () => {\n    var _editorRef$current2;\n    setEditorState(RichUtils.toggleInlineStyle(editorState, \"UNDERLINE\"));\n    (_editorRef$current2 = editorRef.current) === null || _editorRef$current2 === void 0 ? void 0 : _editorRef$current2.focus();\n  };\n  const handleImageUpload = e => {\n    e.preventDefault();\n    if (e.target.files && e.target.files[0]) {\n      const fileReader = new FileReader();\n      fileReader.readAsDataURL(e.target.files[0]);\n      fileReader.onloadend = () => {\n        const contentStateWithEntity = editorState.getCurrentContent().createEntity(\"image\", \"IMMUTABLE\", {\n          src: fileReader.result\n        });\n        const entityKey = contentStateWithEntity.getLastCreatedEntityKey();\n        const newEditorState = EditorState.set(editorState, {\n          currentContent: contentStateWithEntity\n        });\n        setEditorState(AtomicBlockUtils.insertAtomicBlock(newEditorState, entityKey, \" \"));\n      };\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleBoldClick,\n      children: \"B\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleUnderlineClick,\n      children: \"U\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      onChange: handleImageUpload\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => {\n        var _editorRef$current3;\n        return (_editorRef$current3 = editorRef.current) === null || _editorRef$current3 === void 0 ? void 0 : _editorRef$current3.focus();\n      },\n      children: /*#__PURE__*/_jsxDEV(Editor, {\n        ref: editorRef,\n        editorState: editorState,\n        onChange: handleEditorChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n};\n_s(App, \"vt88LxYQiMURWuT/kS8I1O+f1f4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","Editor","EditorState","RichUtils","AtomicBlockUtils","jsxDEV","_jsxDEV","App","_s","editorState","setEditorState","createEmpty","editorRef","handleEditorChange","newEditorState","handleBoldClick","_editorRef$current","toggleInlineStyle","current","focus","handleUnderlineClick","_editorRef$current2","handleImageUpload","e","preventDefault","target","files","fileReader","FileReader","readAsDataURL","onloadend","contentStateWithEntity","getCurrentContent","createEntity","src","result","entityKey","getLastCreatedEntityKey","set","currentContent","insertAtomicBlock","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","_editorRef$current3","ref","_c","$RefreshReg$"],"sources":["C:/Users/AlexanDoor/WebstormProjects/shittest/my-app/src/App.tsx"],"sourcesContent":["import React, { useState, useRef } from \"react\";\nimport {\n    Editor,\n    EditorState,\n    RichUtils,\n    AtomicBlockUtils,\n    convertToRaw,\n} from \"draft-js\";\nimport \"draft-js/dist/Draft.css\";\n\nconst App: React.FC = () => {\n    const [editorState, setEditorState] = useState(() =>\n        EditorState.createEmpty()\n    );\n    const editorRef = useRef<Editor>(null);\n\n    const handleEditorChange = (newEditorState: EditorState) => {\n        setEditorState(newEditorState);\n    };\n\n    const handleBoldClick = () => {\n        setEditorState(RichUtils.toggleInlineStyle(editorState, \"BOLD\"));\n        editorRef.current?.focus();\n    };\n\n    const handleUnderlineClick = () => {\n        setEditorState(RichUtils.toggleInlineStyle(editorState, \"UNDERLINE\"));\n        editorRef.current?.focus();\n    };\n\n    const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n        e.preventDefault();\n        if (e.target.files && e.target.files[0]) {\n            const fileReader = new FileReader();\n            fileReader.readAsDataURL(e.target.files[0]);\n            fileReader.onloadend = () => {\n                const contentStateWithEntity = editorState\n                    .getCurrentContent()\n                    .createEntity(\"image\", \"IMMUTABLE\", { src: fileReader.result! });\n                const entityKey = contentStateWithEntity.getLastCreatedEntityKey();\n                const newEditorState = EditorState.set(editorState, {\n                    currentContent: contentStateWithEntity,\n                });\n                setEditorState(\n                    AtomicBlockUtils.insertAtomicBlock(newEditorState, entityKey, \" \")\n                );\n            };\n        }\n    };\n\n    return (\n        <div>\n            <button onClick={handleBoldClick}>B</button>\n            <button onClick={handleUnderlineClick}>U</button>\n            <input type=\"file\" onChange={handleImageUpload} />\n            <div onClick={() => editorRef.current?.focus()}>\n                <Editor\n                    ref={editorRef}\n                    editorState={editorState}\n                    onChange={handleEditorChange}\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}