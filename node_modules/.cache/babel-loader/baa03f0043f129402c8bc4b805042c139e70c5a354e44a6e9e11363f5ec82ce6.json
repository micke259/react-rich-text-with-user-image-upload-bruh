{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AlexanDoor\\\\WebstormProjects\\\\shittest\\\\my-app\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport './App.css';\nimport { Editor } from \"react-draft-wysiwyg\";\nimport { convertToRaw, EditorState } from \"draft-js\";\nimport draftToHtml from \"draftjs-to-html\";\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [content, setContent] = useState('');\n  const [editorState, setEditorState] = useState(() => EditorState.createEmpty());\n  const handleImageUpload = file => {\n    return new Promise(resolve => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onloadend = () => {\n        resolve(reader.result);\n      };\n    });\n  };\n  const uploadCallback = async file => {\n    try {\n      const imageUrl = await handleImageUpload(file);\n      return {\n        data: {\n          link: imageUrl\n        }\n      };\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Editor, {\n    toolbarClassName: \"toolbarClassName\",\n    wrapperClassName: \"wrapperClassName\",\n    editorClassName: \"editorClassName\",\n    editorState: editorState,\n    placeholder: \"\\u041F\\u0438\\u0448\\u0443 \\u0445\\u0443\\u0439\\u043D\\u044E \\u043D\\u0430 \\u0441\\u0442\\u044D\\u043A\\u0435 PIDOR\",\n    onEditorStateChange: newState => {\n      setEditorState(newState);\n      setContent(draftToHtml(convertToRaw(newState.getCurrentContent())));\n    },\n    toolbar: {\n      options: ['inline', 'blockType', 'fontSize', 'list', 'textAlign', 'history', 'embedded', 'emoji', 'image'],\n      inline: {\n        isDropdown: true\n      },\n      list: {\n        isDropdown: true\n      },\n      textAlign: {\n        isDropdown: true\n      },\n      link: {\n        isDropdown: true\n      },\n      history: {\n        isDropdown: true\n      },\n      image: {\n        uploadCallback,\n        previewImage: true,\n        alt: {\n          present: true,\n          mandatory: false\n        }\n      }\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n_s(App, \"cOzNV1hPZO5lq3GsS51aX4AKlUU=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Editor","convertToRaw","EditorState","draftToHtml","jsxDEV","_jsxDEV","App","_s","content","setContent","editorState","setEditorState","createEmpty","handleImageUpload","file","Promise","resolve","reader","FileReader","readAsDataURL","onloadend","result","uploadCallback","imageUrl","data","link","err","console","error","toolbarClassName","wrapperClassName","editorClassName","placeholder","onEditorStateChange","newState","getCurrentContent","toolbar","options","inline","isDropdown","list","textAlign","history","image","previewImage","alt","present","mandatory","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/AlexanDoor/WebstormProjects/shittest/my-app/src/App.tsx"],"sourcesContent":["import React, {useState} from 'react';\nimport './App.css';\n\nimport {Editor} from \"react-draft-wysiwyg\";\nimport { convertToRaw, EditorState} from \"draft-js\";\nimport draftToHtml from \"draftjs-to-html\";\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\nconst App = () => {\n\n\n    const [content, setContent] = useState<string>('')\n    const [editorState, setEditorState] = useState(() =>\n        EditorState.createEmpty()\n    );\n\n    const handleImageUpload = (file: File) => {\n        return new Promise<string>((resolve) => {\n            const reader = new FileReader();\n            reader.readAsDataURL(file);\n            reader.onloadend = () => {\n                resolve(reader.result as string);\n            };\n        });\n    };\n    const uploadCallback = async (file: File) => {\n        try {\n            const imageUrl = await handleImageUpload(file);\n            return { data: { link: imageUrl } };\n        } catch (err) {\n            console.error(err);\n        }\n    };\n\n    return (\n        <Editor\n            toolbarClassName=\"toolbarClassName\"\n            wrapperClassName=\"wrapperClassName\"\n            editorClassName=\"editorClassName\"\n            editorState={editorState}\n            placeholder=\"Пишу хуйню на стэке PIDOR\"\n            onEditorStateChange={newState=>{\n                setEditorState(newState)\n                setContent(draftToHtml(convertToRaw(newState.getCurrentContent())))\n            }}\n            toolbar={{\n                options:['inline','blockType','fontSize','list', 'textAlign', 'history', 'embedded', 'emoji', 'image'],\n                inline:{isDropdown:true},\n                list:{isDropdown:true},\n                textAlign:{isDropdown:true},\n                link:{isDropdown:true},\n                history:{isDropdown:true},\n                image: {\n                    uploadCallback,\n                    previewImage: true,\n                    alt: { present: true, mandatory: false },\n                },\n            }}\n        />\n    );\n};\n\nexport default App;"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,QAAQ,QAAO,OAAO;AACrC,OAAO,WAAW;AAElB,SAAQC,MAAM,QAAO,qBAAqB;AAC1C,SAASC,YAAY,EAAEC,WAAW,QAAO,UAAU;AACnD,OAAOC,WAAW,MAAM,iBAAiB;AACzC,OAAO,kDAAkD;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAC1D,MAAMC,GAAG,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAGd,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAS,EAAE,CAAC;EAClD,MAAM,CAACW,WAAW,EAAEC,cAAc,CAAC,GAAGZ,QAAQ,CAAC,MAC3CG,WAAW,CAACU,WAAW,EAAE,CAC5B;EAED,MAAMC,iBAAiB,GAAIC,IAAU,IAAK;IACtC,OAAO,IAAIC,OAAO,CAAUC,OAAO,IAAK;MACpC,MAAMC,MAAM,GAAG,IAAIC,UAAU,EAAE;MAC/BD,MAAM,CAACE,aAAa,CAACL,IAAI,CAAC;MAC1BG,MAAM,CAACG,SAAS,GAAG,MAAM;QACrBJ,OAAO,CAACC,MAAM,CAACI,MAAM,CAAW;MACpC,CAAC;IACL,CAAC,CAAC;EACN,CAAC;EACD,MAAMC,cAAc,GAAG,MAAOR,IAAU,IAAK;IACzC,IAAI;MACA,MAAMS,QAAQ,GAAG,MAAMV,iBAAiB,CAACC,IAAI,CAAC;MAC9C,OAAO;QAAEU,IAAI,EAAE;UAAEC,IAAI,EAAEF;QAAS;MAAE,CAAC;IACvC,CAAC,CAAC,OAAOG,GAAG,EAAE;MACVC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IACtB;EACJ,CAAC;EAED,oBACIrB,OAAA,CAACL,MAAM;IACH6B,gBAAgB,EAAC,kBAAkB;IACnCC,gBAAgB,EAAC,kBAAkB;IACnCC,eAAe,EAAC,iBAAiB;IACjCrB,WAAW,EAAEA,WAAY;IACzBsB,WAAW,EAAC,2GAA2B;IACvCC,mBAAmB,EAAEC,QAAQ,IAAE;MAC3BvB,cAAc,CAACuB,QAAQ,CAAC;MACxBzB,UAAU,CAACN,WAAW,CAACF,YAAY,CAACiC,QAAQ,CAACC,iBAAiB,EAAE,CAAC,CAAC,CAAC;IACvE,CAAE;IACFC,OAAO,EAAE;MACLC,OAAO,EAAC,CAAC,QAAQ,EAAC,WAAW,EAAC,UAAU,EAAC,MAAM,EAAE,WAAW,EAAE,SAAS,EAAE,UAAU,EAAE,OAAO,EAAE,OAAO,CAAC;MACtGC,MAAM,EAAC;QAACC,UAAU,EAAC;MAAI,CAAC;MACxBC,IAAI,EAAC;QAACD,UAAU,EAAC;MAAI,CAAC;MACtBE,SAAS,EAAC;QAACF,UAAU,EAAC;MAAI,CAAC;MAC3Bd,IAAI,EAAC;QAACc,UAAU,EAAC;MAAI,CAAC;MACtBG,OAAO,EAAC;QAACH,UAAU,EAAC;MAAI,CAAC;MACzBI,KAAK,EAAE;QACHrB,cAAc;QACdsB,YAAY,EAAE,IAAI;QAClBC,GAAG,EAAE;UAAEC,OAAO,EAAE,IAAI;UAAEC,SAAS,EAAE;QAAM;MAC3C;IACJ;EAAE;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACJ;AAEV,CAAC;AAAC5C,EAAA,CApDID,GAAG;AAAA8C,EAAA,GAAH9C,GAAG;AAsDT,eAAeA,GAAG;AAAC,IAAA8C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}